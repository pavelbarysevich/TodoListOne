import SwiftUI

/**
 NoItemsView –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ —Ç–æ–º, —á—Ç–æ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç,
 –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É.
 –í–∫–ª—é—á–∞–µ—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è.
 */
struct NoItemsView: View {
    
    // –§–ª–∞–≥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏
    @State var animate: Bool = false
    
    var body: some View {
        // ScrollView –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∫—Ä–æ–ª–ª–∏—Ä—É–µ–º–æ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
        ScrollView {
            // –û—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–∫ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
            VStack (spacing: 10) {
                
                // –ó–∞–≥–æ–ª–æ–≤–æ–∫, —Å–æ–æ–±—â–∞—é—â–∏–π –æ –ø—É—Å—Ç–æ—Ç–µ —Å–ø–∏—Å–∫–∞
                Text("–≠–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ—Ç")
                    .font(.title)
                    .fontWeight(.semibold)
                
                // –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å –º–æ—Ç–∏–≤–∞—Ü–∏–µ–π
                Text("–í—ã –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–π —á–µ–ª–æ–≤–µ–∫? –î—É–º–∞—é, –≤–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—É–Ω–∫—Ç–æ–≤ –≤ —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ –¥–µ–ª!")
                    .padding(.bottom, 30)
                
                // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —ç–∫—Ä–∞–Ω—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
                NavigationLink {
                    AddListView()
                } label: {
                    Text("–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É üìã")
                        // —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
                        .foregroundStyle(.white)
                        .font(.headline)
                        .frame(height: 55)
                        .frame(maxWidth: .infinity)
                        .background(animate ? .X_2 : .accent)
                        .cornerRadius(20)
                }
                .padding(.horizontal, animate ? 30 : 50)
                .shadow(color: animate ? .X_2.opacity(0.7) : .accent.opacity(0.7),
                        radius: animate ? 30 : 10,
                        x: 0,
                        y: animate ? 50 : 30)
                .scaleEffect(animate ? 1.1 : 1.0)
                .offset(y: animate ? -7 : 0)

            }
            .frame(maxWidth: 400)
            .multilineTextAlignment(.center)
            .padding(40)
            // –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –≤—å—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è
            .onAppear(perform: addAnimation)
        }
        .frame(maxWidth: .infinity, maxHeight: .infinity)
        
    }
    
    /**
     –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.
     
     –ê–Ω–∏–º–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç –ø–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–Ω–æ–ø–∫–∏ (—Ü–≤–µ—Ç–∞, —Ç–µ–Ω–∏, –º–∞—Å—à—Ç–∞–±–∞ –∏ —Å–º–µ—â–µ–Ω–∏—è)
     —Å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ.
     */
    func addAnimation() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è –µ—â—ë –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞
        guard !animate else { return }
        
        DispatchQueue.main.asyncAfter(deadline: .now(), execute: {
            // –ó–∞–ø—É—Å–∫ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å easeInOut –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é 2 —Å–µ–∫—É–Ω–¥—ã
            withAnimation(
                Animation
                    .easeInOut(duration: 2.0)
                    .repeatForever()
            ) {
                animate.toggle() // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
            }
        })
    }
}

#Preview {
    NavigationStack {
        NoItemsView()
            .navigationTitle("Title")
    }
    
}
